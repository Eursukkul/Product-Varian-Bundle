# FlowAccount - Product Variant & Bundle System

## ğŸ“‹ à¸ à¸²à¸à¸£à¸§à¸¡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ

**FlowAccount Co., Ltd. - Software Engineer Candidate Test Project**

à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¸™à¸µà¹‰à¹€à¸›à¹‡à¸™à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸šà¹à¸¥à¸°à¸à¸±à¸’à¸™à¸²à¸£à¸°à¸šà¸š **Product Variant** (à¸ªà¸´à¸™à¸„à¹‰à¸²à¸¡à¸µà¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸) à¹à¸¥à¸° **Product Bundle** (à¸Šà¸¸à¸”à¸ªà¸´à¸™à¸„à¹‰à¸²) 
à¸›à¸£à¸°à¸à¸­à¸šà¸”à¹‰à¸§à¸¢ Backend API à¹à¸¥à¸° Angular Frontend

---

## ğŸ¯ à¸§à¸±à¸•à¸–à¸¸à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œ

à¸à¸±à¸’à¸™à¸²à¸£à¸°à¸šà¸šà¸—à¸µà¹ˆà¸£à¸­à¸‡à¸£à¸±à¸š:

1. **Product Variant** - à¸ªà¸´à¸™à¸„à¹‰à¸²à¸«à¸¥à¸±à¸à¸—à¸µà¹ˆà¸¡à¸µà¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸à¸«à¸¥à¸²à¸¢à¹à¸šà¸š (à¹€à¸Šà¹ˆà¸™ à¸ªà¸µ, à¸‚à¸™à¸²à¸”)
2. **Product Bundle** - à¸à¸²à¸£à¸ˆà¸±à¸”à¸Šà¸¸à¸”à¸ªà¸´à¸™à¸„à¹‰à¸²à¸«à¸¥à¸²à¸¢à¸£à¸²à¸¢à¸à¸²à¸£à¸‚à¸²à¸¢à¸£à¸§à¸¡à¸à¸±à¸™
3. **à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸•à¹‡à¸­à¸** - à¸„à¸³à¸™à¸§à¸“à¹à¸¥à¸°à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸•à¹‡à¸­à¸à¸­à¸¢à¹ˆà¸²à¸‡à¸¡à¸µà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸
4. **Transaction Management** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¸•à¸±à¸”à¸ªà¸•à¹‡à¸­à¸à¹à¸¥à¸°à¸˜à¸¸à¸£à¸à¸£à¸£à¸¡à¸—à¸µà¹ˆà¸‹à¸±à¸šà¸‹à¹‰à¸­à¸™

---

## ğŸ“ à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸

### 1. Product Variant (à¸ªà¸´à¸™à¸„à¹‰à¸²à¸¡à¸µà¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸)

**à¹à¸™à¸§à¸„à¸´à¸”:** à¸ªà¸´à¸™à¸„à¹‰à¸²à¸«à¸¥à¸±à¸ (Product Master) à¸«à¸™à¸¶à¹ˆà¸‡à¸Šà¸´à¹‰à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¸¡à¸µ "à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸" à¹„à¸”à¹‰à¸«à¸¥à¸²à¸¢à¹à¸šà¸š

**à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´:**
- à¹à¸•à¹ˆà¸¥à¸°à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸ (Variant) à¸¡à¸µ SKU, à¸£à¸²à¸„à¸², à¹à¸¥à¸°à¸ªà¸•à¹‡à¸­à¸à¹€à¸›à¹‡à¸™à¸‚à¸­à¸‡à¸•à¸±à¸§à¹€à¸­à¸‡
- à¸£à¸­à¸‡à¸£à¸±à¸šà¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸à¸«à¸¥à¸²à¸¢à¸¡à¸´à¸•à¸´ (à¹€à¸Šà¹ˆà¸™ à¸ªà¸µ Ã— à¸‚à¸™à¸²à¸”)

**à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡:**
```
Product Master: à¹€à¸ªà¸·à¹‰à¸­à¸¢à¸·à¸”
â”œâ”€ Variant 1: à¹€à¸ªà¸·à¹‰à¸­à¸¢à¸·à¸”à¸ªà¸µà¹à¸”à¸‡ à¹„à¸‹à¸ªà¹Œ S (SKU: SHIRT-RED-S)
â””â”€ Variant 2: à¹€à¸ªà¸·à¹‰à¸­à¸¢à¸·à¸”à¸ªà¸µà¸™à¹‰à¸³à¹€à¸‡à¸´à¸™ à¹„à¸‹à¸ªà¹Œ M (SKU: SHIRT-BLUE-M)
```

### 2. Product Bundle (à¸Šà¸¸à¸”à¸ªà¸´à¸™à¸„à¹‰à¸²)

**à¹à¸™à¸§à¸„à¸´à¸”:** à¸™à¸³à¸ªà¸´à¸™à¸„à¹‰à¸²à¸«à¸¥à¸²à¸¢à¸£à¸²à¸¢à¸à¸²à¸£ (à¸ªà¸´à¸™à¸„à¹‰à¸²à¹€à¸”à¸µà¹ˆà¸¢à¸§à¸«à¸£à¸·à¸­ Variant) à¸¡à¸²à¸ˆà¸±à¸”à¹€à¸›à¹‡à¸™à¸Šà¸¸à¸”à¸‚à¸²à¸¢à¸£à¸§à¸¡à¸à¸±à¸™

**à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´:**
- à¸Šà¸¸à¸”à¸ªà¸´à¸™à¸„à¹‰à¸²à¸¡à¸µà¸£à¸²à¸„à¸²à¸à¸³à¸«à¸™à¸”à¹€à¸­à¸‡
- à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸•à¹‡à¸­à¸à¸‚à¸¶à¹‰à¸™à¸­à¸¢à¸¹à¹ˆà¸à¸±à¸šà¸ªà¸•à¹‡à¸­à¸à¸‚à¸­à¸‡à¸ªà¸´à¸™à¸„à¹‰à¸²à¸ªà¹ˆà¸§à¸™à¸›à¸£à¸°à¸à¸­à¸š
- à¸£à¸­à¸‡à¸£à¸±à¸šà¸—à¸±à¹‰à¸‡ Product à¹à¸¥à¸° Variant à¹€à¸›à¹‡à¸™à¸ªà¹ˆà¸§à¸™à¸›à¸£à¸°à¸à¸­à¸š

**à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡:**
```
Bundle 1: à¸Šà¸¸à¸”à¸„à¸­à¸¡à¸à¸´à¸§à¹€à¸•à¸­à¸£à¹Œ
â”œâ”€ CPU (Product)
â”œâ”€ RAM (Product)
â””â”€ SSD (Product)

Bundle 2: à¸Šà¸¸à¸”à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¹€à¸‚à¸µà¸¢à¸™
â”œâ”€ à¸›à¸²à¸à¸à¸²à¸ªà¸µà¸”à¸³ (Variant)
â””â”€ à¸ªà¸¡à¸¸à¸”à¸¥à¸²à¸¢à¹€à¸ªà¹‰à¸™ (Product)
```
---

## ğŸ—ï¸ Software Design Patterns & Architecture

### Architecture Pattern: Clean Architecture (Onion Architecture)

**à¹€à¸«à¸•à¸¸à¸œà¸¥à¹ƒà¸™à¸à¸²à¸£à¹€à¸¥à¸·à¸­à¸:**
- âœ… **Separation of Concerns** - à¹à¸¢à¸ Business Logic à¸­à¸­à¸à¸ˆà¸²à¸ Infrastructure
- âœ… **Testability** - à¸‡à¹ˆà¸²à¸¢à¸•à¹ˆà¸­à¸à¸²à¸£à¹€à¸‚à¸µà¸¢à¸™ Unit Tests
- âœ… **Maintainability** - à¹‚à¸„à¹‰à¸”à¸”à¸¹à¹à¸¥à¸£à¸±à¸à¸©à¸²à¸‡à¹ˆà¸²à¸¢ à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡à¹„à¸”à¹‰à¹„à¸¡à¹ˆà¸à¸£à¸°à¸—à¸šà¸ªà¹ˆà¸§à¸™à¸­à¸·à¹ˆà¸™
- âœ… **Independence** - à¹„à¸¡à¹ˆà¸œà¸¹à¸à¸•à¸´à¸”à¸à¸±à¸š Framework, Database, UI
- âœ… **Scalability** - à¸‚à¸¢à¸²à¸¢à¸£à¸°à¸šà¸šà¹„à¸”à¹‰à¸‡à¹ˆà¸²à¸¢

### Layer Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Presentation Layer                   â”‚
â”‚              (API Controllers, DTOs, Filters)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     Application Layer                    â”‚
â”‚         (Services, Use Cases, Business Logic)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       Domain Layer                       â”‚
â”‚            (Entities, Interfaces, Domain Logic)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   Infrastructure Layer                   â”‚
â”‚    (EF Core, Database, External APIs, File System)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Design Patterns à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰

### 1. **Repository Pattern**
**à¹€à¸«à¸•à¸¸à¸œà¸¥:** à¹à¸¢à¸ Data Access Logic à¸­à¸­à¸à¸ˆà¸²à¸ Business Logic

```csharp
// Domain Layer - Interface
public interface IProductRepository
{
    Task<ProductMaster> GetByIdAsync(int id);
    Task<List<ProductMaster>> GetAllAsync();
    Task<ProductMaster> AddAsync(ProductMaster product);
    Task UpdateAsync(ProductMaster product);
    Task DeleteAsync(int id);
    Task<bool> ExistsAsync(int id);
}

// Infrastructure Layer - Implementation
public class ProductRepository : IProductRepository
{
    private readonly ApplicationDbContext _context;
    
    public ProductRepository(ApplicationDbContext context)
    {
        _context = context;
    }
    
    public async Task<ProductMaster> GetByIdAsync(int id)
    {
        return await _context.ProductMasters
            .Include(p => p.VariantOptions)
            .ThenInclude(vo => vo.Values)
            .Include(p => p.ProductVariants)
            .FirstOrDefaultAsync(p => p.Id == id);
    }
    
    // ... other implementations
}
```

### 2. **Unit of Work Pattern**
**à¹€à¸«à¸•à¸¸à¸œà¸¥:** à¸ˆà¸±à¸”à¸à¸²à¸£ Transaction à¹à¸¥à¸° Coordination à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡ Repositories

```csharp
// Domain Layer - Interface
public interface IUnitOfWork : IDisposable
{
    IProductRepository Products { get; }
    IVariantRepository Variants { get; }
    IBundleRepository Bundles { get; }
    IStockRepository Stocks { get; }
    
    Task<int> SaveChangesAsync();
    Task BeginTransactionAsync();
    Task CommitTransactionAsync();
    Task RollbackTransactionAsync();
}

// Infrastructure Layer - Implementation
public class UnitOfWork : IUnitOfWork
{
    private readonly ApplicationDbContext _context;
    private IDbContextTransaction _transaction;
    
    public UnitOfWork(ApplicationDbContext context)
    {
        _context = context;
        Products = new ProductRepository(_context);
        Variants = new VariantRepository(_context);
        Bundles = new BundleRepository(_context);
        Stocks = new StockRepository(_context);
    }
    
    public IProductRepository Products { get; }
    public IVariantRepository Variants { get; }
    public IBundleRepository Bundles { get; }
    public IStockRepository Stocks { get; }
    
    public async Task<int> SaveChangesAsync()
    {
        return await _context.SaveChangesAsync();
    }
    
    public async Task BeginTransactionAsync()
    {
        _transaction = await _context.Database.BeginTransactionAsync();
    }
    
    public async Task CommitTransactionAsync()
    {
        await _transaction.CommitAsync();
    }
    
    public async Task RollbackTransactionAsync()
    {
        await _transaction.RollbackAsync();
    }
    
    public void Dispose()
    {
        _transaction?.Dispose();
        _context.Dispose();
    }
}
```

### 3. **Service Layer Pattern**
**à¹€à¸«à¸•à¸¸à¸œà¸¥:** à¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡ Business Logic à¹à¸¥à¸° orchestrate operations

```csharp
// Application Layer
public interface IProductService
{
    Task<ProductDto> GetProductByIdAsync(int id);
    Task<ProductDto> CreateProductAsync(CreateProductDto dto);
    Task<List<VariantDto>> CreateVariantsBatchAsync(int productId, CreateVariantsBatchDto dto);
}

public class ProductService : IProductService
{
    private readonly IUnitOfWork _unitOfWork;
    private readonly IMapper _mapper;
    private readonly ILogger<ProductService> _logger;
    
    public ProductService(
        IUnitOfWork unitOfWork, 
        IMapper mapper, 
        ILogger<ProductService> logger)
    {
        _unitOfWork = unitOfWork;
        _mapper = mapper;
        _logger = logger;
    }
    
    public async Task<List<VariantDto>> CreateVariantsBatchAsync(
        int productId, 
        CreateVariantsBatchDto dto)
    {
        await _unitOfWork.BeginTransactionAsync();
        
        try
        {
            var product = await _unitOfWork.Products.GetByIdAsync(productId);
            if (product == null)
                throw new NotFoundException($"Product {productId} not found");
            
            var variants = new List<ProductVariant>();
            
            foreach (var variantDto in dto.Variants)
            {
                // Validate SKU uniqueness
                if (await _unitOfWork.Variants.ExistsBySKUAsync(variantDto.SKU))
                {
                    _logger.LogWarning($"SKU {variantDto.SKU} already exists");
                    continue;
                }
                
                var variant = _mapper.Map<ProductVariant>(variantDto);
                variant.ProductMasterId = productId;
                
                variants.Add(await _unitOfWork.Variants.AddAsync(variant));
            }
            
            await _unitOfWork.SaveChangesAsync();
            await _unitOfWork.CommitTransactionAsync();
            
            return _mapper.Map<List<VariantDto>>(variants);
        }
        catch (Exception ex)
        {
            await _unitOfWork.RollbackTransactionAsync();
            _logger.LogError(ex, "Error creating variants batch");
            throw;
        }
    }
}
```

### 4. **Strategy Pattern**
**à¹€à¸«à¸•à¸¸à¸œà¸¥:** à¸ªà¸³à¸«à¸£à¸±à¸š Stock Calculation à¸—à¸µà¹ˆà¸¡à¸µà¸«à¸¥à¸²à¸¢à¸§à¸´à¸˜à¸µ

```csharp
// Domain Layer
public interface IStockCalculationStrategy
{
    Task<int> CalculateAvailableStockAsync(Bundle bundle, int warehouseId);
}

// Simple Strategy: à¸„à¸³à¸™à¸§à¸“à¸ˆà¸²à¸à¸ªà¸•à¹‡à¸­à¸à¸•à¹ˆà¸³à¸ªà¸¸à¸”
public class MinimumStockStrategy : IStockCalculationStrategy
{
    private readonly IStockRepository _stockRepository;
    
    public async Task<int> CalculateAvailableStockAsync(Bundle bundle, int warehouseId)
    {
        var minStock = int.MaxValue;
        
        foreach (var item in bundle.BundleItems)
        {
            var stock = await _stockRepository.GetStockAsync(
                warehouseId, item.ItemType, item.ItemId);
            
            var availableForBundle = stock.Quantity / item.Quantity;
            minStock = Math.Min(minStock, availableForBundle);
        }
        
        return minStock == int.MaxValue ? 0 : minStock;
    }
}

// Advanced Strategy: à¸£à¸§à¸¡à¸«à¸¥à¸²à¸¢à¸„à¸¥à¸±à¸‡
public class MultiWarehouseStockStrategy : IStockCalculationStrategy
{
    // Implementation for multiple warehouses
}

// Context
public class StockService
{
    private IStockCalculationStrategy _strategy;
    
    public void SetStrategy(IStockCalculationStrategy strategy)
    {
        _strategy = strategy;
    }
    
    public async Task<int> GetBundleAvailableStockAsync(Bundle bundle, int warehouseId)
    {
        return await _strategy.CalculateAvailableStockAsync(bundle, warehouseId);
    }
}
```

### 5. **Factory Pattern**
**à¹€à¸«à¸•à¸¸à¸œà¸¥:** à¸ªà¸£à¹‰à¸²à¸‡ Variant combinations à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´

```csharp
public interface IVariantFactory
{
    List<ProductVariant> GenerateVariantCombinations(
        ProductMaster product, 
        List<VariantOption> options);
}

public class VariantFactory : IVariantFactory
{
    public List<ProductVariant> GenerateVariantCombinations(
        ProductMaster product, 
        List<VariantOption> options)
    {
        var variants = new List<ProductVariant>();
        var combinations = GenerateCombinations(options);
        
        foreach (var combo in combinations)
        {
            var variant = new ProductVariant
            {
                ProductMasterId = product.Id,
                SKU = GenerateSKU(product.Name, combo),
                Attributes = combo.Select(c => new ProductVariantAttribute
                {
                    VariantOptionValueId = c.Id
                }).ToList()
            };
            
            variants.Add(variant);
        }
        
        return variants;
    }
    
    private List<List<VariantOptionValue>> GenerateCombinations(
        List<VariantOption> options)
    {
        // Cartesian product implementation
        // à¸ªà¸µ Ã— à¸‚à¸™à¸²à¸” â†’ (à¹à¸”à¸‡, S), (à¹à¸”à¸‡, M), (à¸™à¹‰à¸³à¹€à¸‡à¸´à¸™, S), (à¸™à¹‰à¸³à¹€à¸‡à¸´à¸™, M)
    }
    
    private string GenerateSKU(string productName, List<VariantOptionValue> combo)
    {
        // Generate unique SKU
    }
}
```

### 6. **Specification Pattern**
**à¹€à¸«à¸•à¸¸à¸œà¸¥:** Query/Filter à¸—à¸µà¹ˆà¸‹à¸±à¸šà¸‹à¹‰à¸­à¸™à¹à¸¥à¸° reusable

```csharp
// Domain Layer
public interface ISpecification<T>
{
    Expression<Func<T, bool>> Criteria { get; }
    List<Expression<Func<T, object>>> Includes { get; }
}

public class ActiveProductsWithVariantsSpec : ISpecification<ProductMaster>
{
    public Expression<Func<ProductMaster, bool>> Criteria => 
        p => p.IsActive == true;
    
    public List<Expression<Func<ProductMaster, object>>> Includes => new()
    {
        p => p.VariantOptions,
        p => p.ProductVariants
    };
}

// Repository with Specification
public async Task<List<T>> GetWithSpecificationAsync<T>(ISpecification<T> spec) 
    where T : class
{
    var query = _context.Set<T>().AsQueryable();
    
    query = query.Where(spec.Criteria);
    
    foreach (var include in spec.Includes)
    {
        query = query.Include(include);
    }
    
    return await query.ToListAsync();
}
```

### 7. **CQRS (Command Query Responsibility Segregation)**
**à¹€à¸«à¸•à¸¸à¸œà¸¥:** à¹à¸¢à¸ Read à¹à¸¥à¸° Write operations à¸ªà¸³à¸«à¸£à¸±à¸š performance

```csharp
// Commands (Write)
public class CreateProductCommand
{
    public string Name { get; set; }
    public string Description { get; set; }
}

public class CreateProductCommandHandler
{
    private readonly IUnitOfWork _unitOfWork;
    
    public async Task<int> HandleAsync(CreateProductCommand command)
    {
        var product = new ProductMaster
        {
            Name = command.Name,
            Description = command.Description
        };
        
        await _unitOfWork.Products.AddAsync(product);
        await _unitOfWork.SaveChangesAsync();
        
        return product.Id;
    }
}

// Queries (Read)
public class GetProductByIdQuery
{
    public int Id { get; set; }
}

public class GetProductByIdQueryHandler
{
    private readonly IReadOnlyRepository _repository;
    
    public async Task<ProductDto> HandleAsync(GetProductByIdQuery query)
    {
        // Optimized read-only query
        return await _repository.GetProductDtoAsync(query.Id);
    }
}
```

### 8. **Mediator Pattern (MediatR)**
**à¹€à¸«à¸•à¸¸à¸œà¸¥:** Decouple requests à¹à¸¥à¸° handlers

```csharp
// à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ MediatR
public class ProductsController : ControllerBase
{
    private readonly IMediator _mediator;
    
    [HttpPost]
    public async Task<IActionResult> CreateProduct([FromBody] CreateProductCommand command)
    {
        var productId = await _mediator.Send(command);
        return Ok(productId);
    }
    
    [HttpGet("{id}")]
    public async Task<IActionResult> GetProduct(int id)
    {
        var query = new GetProductByIdQuery { Id = id };
        var product = await _mediator.Send(query);
        return Ok(product);
    }
}
```

### 9. **Builder Pattern**
**à¹€à¸«à¸•à¸¸à¸œà¸¥:** à¸ªà¸£à¹‰à¸²à¸‡ Complex objects (Bundle) à¹à¸šà¸š step-by-step

```csharp
public class BundleBuilder
{
    private readonly Bundle _bundle;
    private readonly List<BundleItem> _items;
    
    public BundleBuilder(string name)
    {
        _bundle = new Bundle { Name = name };
        _items = new List<BundleItem>();
    }
    
    public BundleBuilder WithDescription(string description)
    {
        _bundle.Description = description;
        return this;
    }
    
    public BundleBuilder WithPrice(decimal price)
    {
        _bundle.Price = price;
        return this;
    }
    
    public BundleBuilder AddProduct(int productId, int quantity)
    {
        _items.Add(new BundleItem
        {
            ItemType = "Product",
            ItemId = productId,
            Quantity = quantity
        });
        return this;
    }
    
    public BundleBuilder AddVariant(int variantId, int quantity)
    {
        _items.Add(new BundleItem
        {
            ItemType = "Variant",
            ItemId = variantId,
            Quantity = quantity
        });
        return this;
    }
    
    public Bundle Build()
    {
        _bundle.BundleItems = _items;
        return _bundle;
    }
}

// Usage
var bundle = new BundleBuilder("Gaming PC")
    .WithDescription("High-end gaming computer")
    .WithPrice(35000m)
    .AddProduct(10, 1) // CPU
    .AddVariant(205, 2) // RAM
    .AddProduct(15, 1) // SSD
    .Build();
```

### 10. **Decorator Pattern**
**à¹€à¸«à¸•à¸¸à¸œà¸¥:** à¹€à¸à¸´à¹ˆà¸¡ functionality (Caching, Logging) à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¹à¸à¹‰à¹„à¸‚ original code

```csharp
// Logging Decorator
public class LoggingProductService : IProductService
{
    private readonly IProductService _innerService;
    private readonly ILogger _logger;
    
    public LoggingProductService(IProductService innerService, ILogger logger)
    {
        _innerService = innerService;
        _logger = logger;
    }
    
    public async Task<ProductDto> GetProductByIdAsync(int id)
    {
        _logger.LogInformation($"Getting product {id}");
        var result = await _innerService.GetProductByIdAsync(id);
        _logger.LogInformation($"Retrieved product {id}");
        return result;
    }
}

// Caching Decorator
public class CachingProductService : IProductService
{
    private readonly IProductService _innerService;
    private readonly IMemoryCache _cache;
    
    public async Task<ProductDto> GetProductByIdAsync(int id)
    {
        var cacheKey = $"product_{id}";
        
        if (_cache.TryGetValue(cacheKey, out ProductDto cached))
            return cached;
        
        var result = await _innerService.GetProductByIdAsync(id);
        _cache.Set(cacheKey, result, TimeSpan.FromMinutes(10));
        
        return result;
    }
}
```

---

## ğŸ“ Complete Project Structure

### Solution Structure

```
FlowAccount.sln
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ FlowAccount.Domain/                      # Domain Layer (Core)
â”‚   â”‚   â”œâ”€â”€ Entities/
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductMaster.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductVariant.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ VariantOption.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ VariantOptionValue.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductVariantAttribute.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ Bundle.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ BundleItem.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ Stock.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ Warehouse.cs
â”‚   â”‚   â”‚   â””â”€â”€ Category.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Interfaces/
â”‚   â”‚   â”‚   â”œâ”€â”€ IRepository.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ IProductRepository.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ IVariantRepository.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ IBundleRepository.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ IStockRepository.cs
â”‚   â”‚   â”‚   â””â”€â”€ IUnitOfWork.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Specifications/
â”‚   â”‚   â”‚   â”œâ”€â”€ ISpecification.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ ActiveProductsSpec.cs
â”‚   â”‚   â”‚   â””â”€â”€ ProductWithVariantsSpec.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ValueObjects/
â”‚   â”‚   â”‚   â”œâ”€â”€ SKU.cs
â”‚   â”‚   â”‚   â””â”€â”€ Money.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ Exceptions/
â”‚   â”‚       â”œâ”€â”€ DomainException.cs
â”‚   â”‚       â”œâ”€â”€ NotFoundException.cs
â”‚   â”‚       â””â”€â”€ DuplicateSKUException.cs
â”‚   â”‚
â”‚   â”œâ”€â”€ FlowAccount.Application/                  # Application Layer
â”‚   â”‚   â”œâ”€â”€ Services/
â”‚   â”‚   â”‚   â”œâ”€â”€ Interfaces/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ IProductService.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ IVariantService.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ IBundleService.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ IStockService.cs
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ Implementations/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProductService.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VariantService.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BundleService.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ StockService.cs
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ Decorators/
â”‚   â”‚   â”‚       â”œâ”€â”€ CachingProductService.cs
â”‚   â”‚   â”‚       â””â”€â”€ LoggingProductService.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ DTOs/
â”‚   â”‚   â”‚   â”œâ”€â”€ Products/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProductDto.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CreateProductDto.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UpdateProductDto.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ProductDetailDto.cs
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ Variants/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VariantDto.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CreateVariantDto.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CreateVariantsBatchDto.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BatchVariantResultDto.cs
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ Bundles/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BundleDto.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CreateBundleDto.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UpdateBundleDto.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BundleDetailDto.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BundleStockDto.cs
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ Common/
â”‚   â”‚   â”‚       â”œâ”€â”€ PagedResult.cs
â”‚   â”‚   â”‚       â””â”€â”€ ApiResponse.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Mappings/
â”‚   â”‚   â”‚   â””â”€â”€ AutoMapperProfile.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Validators/
â”‚   â”‚   â”‚   â”œâ”€â”€ CreateProductValidator.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ CreateVariantValidator.cs
â”‚   â”‚   â”‚   â””â”€â”€ CreateBundleValidator.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Commands/                            # CQRS Commands
â”‚   â”‚   â”‚   â”œâ”€â”€ Products/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CreateProductCommand.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CreateProductCommandHandler.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ Variants/
â”‚   â”‚   â”‚   â””â”€â”€ Bundles/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Queries/                             # CQRS Queries
â”‚   â”‚   â”‚   â”œâ”€â”€ Products/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GetProductByIdQuery.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ GetProductByIdQueryHandler.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ Variants/
â”‚   â”‚   â”‚   â””â”€â”€ Bundles/
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Factories/
â”‚   â”‚   â”‚   â”œâ”€â”€ IVariantFactory.cs
â”‚   â”‚   â”‚   â””â”€â”€ VariantFactory.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Strategies/
â”‚   â”‚   â”‚   â”œâ”€â”€ IStockCalculationStrategy.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ MinimumStockStrategy.cs
â”‚   â”‚   â”‚   â””â”€â”€ MultiWarehouseStockStrategy.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ Behaviors/                           # MediatR Pipelines
â”‚   â”‚       â”œâ”€â”€ ValidationBehavior.cs
â”‚   â”‚       â”œâ”€â”€ LoggingBehavior.cs
â”‚   â”‚       â””â”€â”€ TransactionBehavior.cs
â”‚   â”‚
â”‚   â”œâ”€â”€ FlowAccount.Infrastructure/               # Infrastructure Layer
â”‚   â”‚   â”œâ”€â”€ Data/
â”‚   â”‚   â”‚   â”œâ”€â”€ ApplicationDbContext.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ DbContextFactory.cs
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ Configurations/                  # Entity Configurations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProductMasterConfiguration.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProductVariantConfiguration.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BundleConfiguration.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ StockConfiguration.cs
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ Repositories/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GenericRepository.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ProductRepository.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ VariantRepository.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BundleRepository.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ StockRepository.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UnitOfWork.cs
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ Migrations/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ (Auto-generated migrations)
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ Seeders/
â”‚   â”‚   â”‚       â”œâ”€â”€ DataSeeder.cs
â”‚   â”‚   â”‚       â””â”€â”€ SampleDataSeeder.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Caching/
â”‚   â”‚   â”‚   â”œâ”€â”€ ICacheService.cs
â”‚   â”‚   â”‚   â””â”€â”€ RedisCacheService.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ Logging/
â”‚   â”‚   â”‚   â””â”€â”€ FileLogger.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ExternalServices/
â”‚   â”‚       â””â”€â”€ (Integration with external APIs if needed)
â”‚   â”‚
â”‚   â””â”€â”€ FlowAccount.API/                          # Presentation Layer (Web API)
â”‚       â”œâ”€â”€ Controllers/
â”‚       â”‚   â”œâ”€â”€ ProductsController.cs
â”‚       â”‚   â”œâ”€â”€ VariantsController.cs
â”‚       â”‚   â”œâ”€â”€ BundlesController.cs
â”‚       â”‚   â””â”€â”€ StocksController.cs
â”‚       â”‚
â”‚       â”œâ”€â”€ Middlewares/
â”‚       â”‚   â”œâ”€â”€ ExceptionHandlingMiddleware.cs
â”‚       â”‚   â”œâ”€â”€ RequestLoggingMiddleware.cs
â”‚       â”‚   â””â”€â”€ PerformanceMonitoringMiddleware.cs
â”‚       â”‚
â”‚       â”œâ”€â”€ Filters/
â”‚       â”‚   â”œâ”€â”€ ValidateModelAttribute.cs
â”‚       â”‚   â””â”€â”€ ApiExceptionFilterAttribute.cs
â”‚       â”‚
â”‚       â”œâ”€â”€ Extensions/
â”‚       â”‚   â”œâ”€â”€ ServiceCollectionExtensions.cs
â”‚       â”‚   â””â”€â”€ ApplicationBuilderExtensions.cs
â”‚       â”‚
â”‚       â”œâ”€â”€ Configurations/
â”‚       â”‚   â”œâ”€â”€ SwaggerConfiguration.cs
â”‚       â”‚   â”œâ”€â”€ CorsConfiguration.cs
â”‚       â”‚   â””â”€â”€ JwtConfiguration.cs
â”‚       â”‚
â”‚       â”œâ”€â”€ appsettings.json
â”‚       â”œâ”€â”€ appsettings.Development.json
â”‚       â”œâ”€â”€ appsettings.Production.json
â”‚       â””â”€â”€ Program.cs
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ FlowAccount.UnitTests/
â”‚   â”‚   â”œâ”€â”€ Domain/
â”‚   â”‚   â”‚   â””â”€â”€ Entities/
â”‚   â”‚   â”œâ”€â”€ Application/
â”‚   â”‚   â”‚   â”œâ”€â”€ Services/
â”‚   â”‚   â”‚   â””â”€â”€ Validators/
â”‚   â”‚   â””â”€â”€ Fixtures/
â”‚   â”‚
â”‚   â”œâ”€â”€ FlowAccount.IntegrationTests/
â”‚   â”‚   â”œâ”€â”€ API/
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductsControllerTests.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ VariantsControllerTests.cs
â”‚   â”‚   â”‚   â””â”€â”€ BundlesControllerTests.cs
â”‚   â”‚   â”œâ”€â”€ Repositories/
â”‚   â”‚   â””â”€â”€ TestFixtures/
â”‚   â”‚       â””â”€â”€ DatabaseFixture.cs
â”‚   â”‚
â”‚   â””â”€â”€ FlowAccount.PerformanceTests/
â”‚       â””â”€â”€ BatchOperationsTests.cs
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ architecture.md
â”‚   â”œâ”€â”€ api-documentation.md
â”‚   â”œâ”€â”€ database-schema.md
â”‚   â””â”€â”€ deployment-guide.md
â”‚
â””â”€â”€ README.md
```

---

## ğŸ”§ Program.cs Configuration

```csharp
using FlowAccount.Application;
using FlowAccount.Infrastructure;
using FlowAccount.API.Middlewares;

var builder = WebApplication.CreateBuilder(args);

// Add services to the container
builder.Services.AddControllers();
builder.Services.AddEndpointsApiExplorer();

// Swagger Configuration
builder.Services.AddSwaggerGen(options =>
{
    options.SwaggerDoc("v1", new OpenApiInfo
    {
        Title = "FlowAccount API",
        Version = "v1",
        Description = "Product Variant & Bundle Management System"
    });
});

// Database Context
builder.Services.AddDbContext<ApplicationDbContext>(options =>
    options.UseSqlServer(
        builder.Configuration.GetConnectionString("DefaultConnection"),
        b => b.MigrationsAssembly("FlowAccount.Infrastructure")
    ));

// AutoMapper
builder.Services.AddAutoMapper(typeof(AutoMapperProfile));

// FluentValidation
builder.Services.AddValidatorsFromAssemblyContaining<CreateProductValidator>();

// MediatR
builder.Services.AddMediatR(cfg => 
    cfg.RegisterServicesFromAssembly(typeof(CreateProductCommand).Assembly));

// Repositories & Unit of Work
builder.Services.AddScoped<IUnitOfWork, UnitOfWork>();
builder.Services.AddScoped<IProductRepository, ProductRepository>();
builder.Services.AddScoped<IVariantRepository, VariantRepository>();
builder.Services.AddScoped<IBundleRepository, BundleRepository>();
builder.Services.AddScoped<IStockRepository, StockRepository>();

// Services
builder.Services.AddScoped<IProductService, ProductService>();
builder.Services.AddScoped<IVariantService, VariantService>();
builder.Services.AddScoped<IBundleService, BundleService>();
builder.Services.AddScoped<IStockService, StockService>();

// Strategies
builder.Services.AddScoped<IStockCalculationStrategy, MinimumStockStrategy>();

// Factories
builder.Services.AddScoped<IVariantFactory, VariantFactory>();

// Caching
builder.Services.AddMemoryCache();
builder.Services.AddStackExchangeRedisCache(options =>
{
    options.Configuration = builder.Configuration.GetConnectionString("Redis");
});

// Logging
builder.Services.AddLogging(config =>
{
    config.AddConsole();
    config.AddDebug();
    config.AddSerilog();
});

// CORS
builder.Services.AddCors(options =>
{
    options.AddPolicy("AllowAngular",
        policy => policy
            .WithOrigins("http://localhost:4200")
            .AllowAnyHeader()
            .AllowAnyMethod());
});

var app = builder.Build();

// Configure the HTTP request pipeline
if (app.Environment.IsDevelopment())
{
    app.UseSwagger();
    app.UseSwaggerUI();
}

app.UseHttpsRedirection();

app.UseCors("AllowAngular");

app.UseMiddleware<ExceptionHandlingMiddleware>();
app.UseMiddleware<RequestLoggingMiddleware>();

app.UseAuthentication();
app.UseAuthorization();

app.MapControllers();

app.Run();
```

---

## ğŸ“Š Pattern Summary

| Pattern | Purpose | Layer | Priority |
|---------|---------|-------|----------|
| **Clean Architecture** | Overall structure | All | â­â­â­â­â­ |
| **Repository** | Data access abstraction | Infrastructure | â­â­â­â­â­ |
| **Unit of Work** | Transaction management | Infrastructure | â­â­â­â­â­ |
| **Service Layer** | Business logic | Application | â­â­â­â­â­ |
| **Dependency Injection** | IoC Container | All | â­â­â­â­â­ |
| **DTO** | Data transfer | Application | â­â­â­â­â­ |
| **Strategy** | Stock calculation | Application | â­â­â­â­ |
| **Factory** | Variant generation | Application | â­â­â­â­ |
| **Specification** | Query building | Domain | â­â­â­ |
| **CQRS** | Read/Write separation | Application | â­â­â­ |
| **Mediator (MediatR)** | Request handling | Application | â­â­â­ |
| **Builder** | Complex object creation | Application | â­â­â­ |
| **Decorator** | Cross-cutting concerns | Application | â­â­â­ |

---

## ğŸ›  Tech Stack (à¹à¸™à¸°à¸™à¸³)

### Backend (.NET Core)
- **Framework:** ASP.NET Core 8.0 (Web API)
- **ORM:** Entity Framework Core 8.0
- **Database:** SQL Server / PostgreSQL
- **API Documentation:** Swagger/Swashbuckle
- **Authentication:** JWT Bearer Token
- **Validation:** FluentValidation
- **Logging:** Serilog
- **Testing:** xUnit, Moq, FluentAssertions
- **Architecture:** Clean Architecture / Onion Architecture

### Frontend
- **Framework:** Angular 17+ (à¸•à¸²à¸¡à¹‚à¸ˆà¸—à¸¢à¹Œ)
- **UI Library:** Angular Material / PrimeNG
- **State Management:** NgRx (Redux Pattern)
- **Forms:** Reactive Forms
- **HTTP Client:** HttpClient (Angular)
- **Testing:** Jasmine/Karma, Cypress

### Database
- **Primary:** SQL Server 2022
- **Design Tools:** SQL Server Management Studio (SSMS), dbdiagram.io
- **Migration:** Entity Framework Core Migrations
- **Version Control:** Database Projects / Flyway

### Development Tools
- **IDE:** Visual Studio 2022 / Visual Studio Code + C# Extension
- **API Testing:** Postman / Swagger UI / REST Client
- **Version Control:** Git
- **Container:** Docker (optional)
- **Package Manager:** NuGet

### Key NuGet Packages
```
Microsoft.EntityFrameworkCore
Microsoft.EntityFrameworkCore.SqlServer
Microsoft.EntityFrameworkCore.Design
Microsoft.AspNetCore.Authentication.JwtBearer
Swashbuckle.AspNetCore
FluentValidation.AspNetCore
AutoMapper.Extensions.Microsoft.DependencyInjection
Serilog.AspNetCore
```

---

## ğŸ“Š Key Technical Challenges

### 1. Database Schema Complexity
**Challenge:** à¸­à¸­à¸à¹à¸šà¸š schema à¸—à¸µà¹ˆà¸£à¸­à¸‡à¸£à¸±à¸š:
- Product â†’ Variants (1:N with multiple option types)
- Bundle â†’ Products/Variants (M:N with quantity)
- Multi-warehouse stock management

**Solution Approach:**
- à¹ƒà¸Šà¹‰ junction tables à¸ªà¸³à¸«à¸£à¸±à¸š many-to-many relationships
- Polymorphic relationships à¸ªà¸³à¸«à¸£à¸±à¸š Bundle items
- Optimize indexes à¸ªà¸³à¸«à¸£à¸±à¸š query performance

### 2. Batch Operations
**Challenge:** à¸ªà¸£à¹‰à¸²à¸‡ 250+ variants à¹ƒà¸™à¸„à¸£à¸±à¹‰à¸‡à¹€à¸”à¸µà¸¢à¸§à¹‚à¸”à¸¢à¹„à¸¡à¹ˆ timeout

**Solution Approach:**
- Bulk insert operations
- Transaction batching
- Async/background job processing
- Progress tracking

### 3. Stock Calculation Logic
**Challenge:** à¸„à¸³à¸™à¸§à¸“ available quantity à¸ªà¸³à¸«à¸£à¸±à¸š Bundle à¸ˆà¸²à¸:
- à¸ªà¸•à¹‡à¸­à¸à¸‚à¸­à¸‡ component à¸—à¸µà¹ˆà¸•à¹ˆà¸³à¸—à¸µà¹ˆà¸ªà¸¸à¸”
- à¹à¸¢à¸à¸•à¸²à¸¡à¸„à¸¥à¸±à¸‡à¸ªà¸´à¸™à¸„à¹‰à¸²
- Real-time update

**Solution Approach:**
- Cached calculations with invalidation
- Database views/materialized views
- Event-driven updates

### 4. Transaction Management
**Challenge:** à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¸•à¸±à¸”à¸ªà¸•à¹‡à¸­à¸à¹€à¸¡à¸·à¹ˆà¸­à¸‚à¸²à¸¢ Bundle

**Solution Approach:**
- ACID transactions
- Optimistic/Pessimistic locking
- Rollback strategy
- Audit trail

---

## ğŸ“ Database Schema Design (Task 1)

### ğŸ“Š ER Diagram (Entity Relationship Diagram)

```mermaid
erDiagram
    ProductMaster ||--o{ VariantOption : "has"
    ProductMaster ||--o{ ProductVariant : "has"
    ProductMaster }o--|| Category : "belongs to"
    
    VariantOption ||--o{ VariantOptionValue : "has"
    
    ProductVariant ||--o{ ProductVariantAttribute : "has"
    ProductVariant ||--o{ Stock : "has stock in"
    
    ProductVariantAttribute }o--|| VariantOptionValue : "uses"
    
    Bundle ||--o{ BundleItem : "contains"
    
    Stock }o--|| Warehouse : "stored in"
    
    ProductMaster {
        int Id PK
        string Name
        string Description
        int CategoryId FK
        bool IsActive
        datetime CreatedAt
        datetime UpdatedAt
    }
    
    Category {
        int Id PK
        string Name
        string Description
        bool IsActive
    }
    
    VariantOption {
        int Id PK
        int ProductMasterId FK
        string Name
        int DisplayOrder
    }
    
    VariantOptionValue {
        int Id PK
        int VariantOptionId FK
        string Value
        int DisplayOrder
    }
    
    ProductVariant {
        int Id PK
        int ProductMasterId FK
        string SKU UK
        decimal Price
        decimal Cost
        bool IsActive
        datetime CreatedAt
    }
    
    ProductVariantAttribute {
        int Id PK
        int ProductVariantId FK
        int VariantOptionValueId FK
    }
    
    Bundle {
        int Id PK
        string Name
        string Description
        decimal Price
        bool IsActive
        datetime CreatedAt
    }
    
    BundleItem {
        int Id PK
        int BundleId FK
        string ItemType
        int ItemId
        int Quantity
    }
    
    Warehouse {
        int Id PK
        string Name
        string Location
        bool IsActive
    }
    
    Stock {
        int Id PK
        int WarehouseId FK
        string ItemType
        int ItemId
        int Quantity
        datetime LastUpdated
    }
```

### ğŸ”— à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸à¸±à¸™à¸˜à¹Œà¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸•à¸²à¸£à¸²à¸‡

| à¸•à¸²à¸£à¸²à¸‡à¸•à¹‰à¸™à¸—à¸²à¸‡ | à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸à¸±à¸™à¸˜à¹Œ | à¸•à¸²à¸£à¸²à¸‡à¸›à¸¥à¸²à¸¢à¸—à¸²à¸‡ | à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢ |
|------------|-------------|-------------|----------|
| ProductMaster | 1:N | VariantOption | à¸ªà¸´à¸™à¸„à¹‰à¸² 1 à¸Šà¸´à¹‰à¸™ à¸¡à¸µà¸«à¸¥à¸²à¸¢à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸ (à¸ªà¸µ, à¸‚à¸™à¸²à¸”) |
| ProductMaster | 1:N | ProductVariant | à¸ªà¸´à¸™à¸„à¹‰à¸² 1 à¸Šà¸´à¹‰à¸™ à¸¡à¸µà¸«à¸¥à¸²à¸¢ Variants |
| ProductMaster | N:1 | Category | à¸ªà¸´à¸™à¸„à¹‰à¸²à¸«à¸¥à¸²à¸¢à¸Šà¸´à¹‰à¸™à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ Category à¹€à¸”à¸µà¸¢à¸§ |
| VariantOption | 1:N | VariantOptionValue | à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸ 1 à¸­à¸±à¸™ à¸¡à¸µà¸«à¸¥à¸²à¸¢à¸„à¹ˆà¸² (à¹€à¸Šà¹ˆà¸™ à¸ªà¸µ â†’ à¹à¸”à¸‡, à¸™à¹‰à¸³à¹€à¸‡à¸´à¸™) |
| ProductVariant | N:N | VariantOptionValue | Variant à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸à¸±à¸šà¸«à¸¥à¸²à¸¢ Option Values à¸œà¹ˆà¸²à¸™ ProductVariantAttribute |
| ProductVariant | 1:N | Stock | Variant 1 à¸­à¸±à¸™ à¸¡à¸µà¸ªà¸•à¹‡à¸­à¸à¹ƒà¸™à¸«à¸¥à¸²à¸¢à¸„à¸¥à¸±à¸‡ |
| Bundle | 1:N | BundleItem | Bundle 1 à¸Šà¸¸à¸” à¸›à¸£à¸°à¸à¸­à¸šà¸”à¹‰à¸§à¸¢à¸«à¸¥à¸²à¸¢à¸£à¸²à¸¢à¸à¸²à¸£ |
| Warehouse | 1:N | Stock | à¸„à¸¥à¸±à¸‡ 1 à¹à¸«à¹ˆà¸‡ à¹€à¸à¹‡à¸šà¸ªà¸•à¹‡à¸­à¸à¸«à¸¥à¸²à¸¢à¸£à¸²à¸¢à¸à¸²à¸£ |

### ğŸ”‘ Primary Keys & Foreign Keys

#### Primary Keys (PK)
- à¸—à¸¸à¸à¸•à¸²à¸£à¸²à¸‡à¸¡à¸µ `Id` à¹€à¸›à¹‡à¸™ PK à¹à¸šà¸š Auto-increment (Identity)

#### Foreign Keys (FK) & Constraints
```sql
-- ProductMaster
ALTER TABLE ProductMasters
    ADD CONSTRAINT FK_ProductMasters_Categories 
    FOREIGN KEY (CategoryId) REFERENCES Categories(Id);

-- VariantOption
ALTER TABLE VariantOptions
    ADD CONSTRAINT FK_VariantOptions_ProductMasters 
    FOREIGN KEY (ProductMasterId) REFERENCES ProductMasters(Id) 
    ON DELETE CASCADE;

-- VariantOptionValue
ALTER TABLE VariantOptionValues
    ADD CONSTRAINT FK_VariantOptionValues_VariantOptions 
    FOREIGN KEY (VariantOptionId) REFERENCES VariantOptions(Id) 
    ON DELETE CASCADE;

-- ProductVariant
ALTER TABLE ProductVariants
    ADD CONSTRAINT FK_ProductVariants_ProductMasters 
    FOREIGN KEY (ProductMasterId) REFERENCES ProductMasters(Id) 
    ON DELETE CASCADE,
    ADD CONSTRAINT UQ_ProductVariants_SKU UNIQUE (SKU);

-- ProductVariantAttribute (Junction Table)
ALTER TABLE ProductVariantAttributes
    ADD CONSTRAINT FK_ProductVariantAttributes_ProductVariants 
    FOREIGN KEY (ProductVariantId) REFERENCES ProductVariants(Id) 
    ON DELETE CASCADE,
    ADD CONSTRAINT FK_ProductVariantAttributes_VariantOptionValues 
    FOREIGN KEY (VariantOptionValueId) REFERENCES VariantOptionValues(Id),
    ADD CONSTRAINT UQ_ProductVariantAttributes 
    UNIQUE (ProductVariantId, VariantOptionValueId);

-- BundleItem
ALTER TABLE BundleItems
    ADD CONSTRAINT FK_BundleItems_Bundles 
    FOREIGN KEY (BundleId) REFERENCES Bundles(Id) 
    ON DELETE CASCADE,
    ADD CONSTRAINT UQ_BundleItems 
    UNIQUE (BundleId, ItemType, ItemId),
    ADD CONSTRAINT CK_BundleItems_ItemType 
    CHECK (ItemType IN ('Product', 'Variant')),
    ADD CONSTRAINT CK_BundleItems_Quantity 
    CHECK (Quantity > 0);

-- Stock
ALTER TABLE Stocks
    ADD CONSTRAINT FK_Stocks_Warehouses 
    FOREIGN KEY (WarehouseId) REFERENCES Warehouses(Id) 
    ON DELETE CASCADE,
    ADD CONSTRAINT UQ_Stocks 
    UNIQUE (WarehouseId, ItemType, ItemId),
    ADD CONSTRAINT CK_Stocks_ItemType 
    CHECK (ItemType IN ('Product', 'Variant'));
```

### âš¡ Indexing Strategy (à¸ªà¸³à¸«à¸£à¸±à¸š Performance)

#### 1. **Clustered Indexes** (Primary Keys)
- à¸—à¸¸à¸à¸•à¸²à¸£à¸²à¸‡à¹ƒà¸Šà¹‰ `Id` à¹€à¸›à¹‡à¸™ Clustered Index (Default)

#### 2. **Non-Clustered Indexes**

```sql
-- ProductMaster Indexes
CREATE INDEX IX_ProductMasters_CategoryId 
    ON ProductMasters(CategoryId)
    WHERE IsActive = 1;

CREATE INDEX IX_ProductMasters_Name 
    ON ProductMasters(Name)
    INCLUDE (Description, Price);

-- ProductVariant Indexes (à¸ªà¸³à¸„à¸±à¸à¸¡à¸²à¸!)
CREATE UNIQUE INDEX IX_ProductVariants_SKU 
    ON ProductVariants(SKU);

CREATE INDEX IX_ProductVariants_ProductMasterId 
    ON ProductVariants(ProductMasterId)
    WHERE IsActive = 1;

CREATE INDEX IX_ProductVariants_Price 
    ON ProductVariants(Price)
    INCLUDE (SKU, Cost);

-- ProductVariantAttribute Indexes (à¸ªà¸³à¸«à¸£à¸±à¸š Query Variant à¸”à¹‰à¸§à¸¢ Attributes)
CREATE INDEX IX_ProductVariantAttributes_ProductVariantId 
    ON ProductVariantAttributes(ProductVariantId, VariantOptionValueId);

CREATE INDEX IX_ProductVariantAttributes_VariantOptionValueId 
    ON ProductVariantAttributes(VariantOptionValueId);

-- Bundle Indexes
CREATE INDEX IX_BundleItems_BundleId 
    ON BundleItems(BundleId, ItemType, ItemId);

CREATE INDEX IX_BundleItems_Item 
    ON BundleItems(ItemType, ItemId)
    INCLUDE (BundleId, Quantity);

-- Stock Indexes (à¸ªà¸³à¸„à¸±à¸à¸¡à¸²à¸à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸„à¸³à¸™à¸§à¸“ Bundle Stock!)
CREATE INDEX IX_Stocks_WarehouseId 
    ON Stocks(WarehouseId, ItemType, ItemId)
    INCLUDE (Quantity);

CREATE INDEX IX_Stocks_Item 
    ON Stocks(ItemType, ItemId, WarehouseId)
    INCLUDE (Quantity, LastUpdated);

-- VariantOption & Value Indexes
CREATE INDEX IX_VariantOptions_ProductMasterId 
    ON VariantOptions(ProductMasterId, DisplayOrder);

CREATE INDEX IX_VariantOptionValues_VariantOptionId 
    ON VariantOptionValues(VariantOptionId, DisplayOrder);
```

#### 3. **Full-Text Indexes** (à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸„à¹‰à¸™à¸«à¸²)
```sql
-- à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¹‰à¸™à¸«à¸²à¸ªà¸´à¸™à¸„à¹‰à¸²
CREATE FULLTEXT INDEX ON ProductMasters(Name, Description)
    KEY INDEX PK_ProductMasters;

-- à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¹‰à¸™à¸«à¸² Bundle
CREATE FULLTEXT INDEX ON Bundles(Name, Description)
    KEY INDEX PK_Bundles;
```

### ğŸ“ˆ Query Optimization Strategies

#### 1. **N+1 Problem Prevention**
```csharp
// âŒ BAD: N+1 Problem
var products = await _context.ProductMasters.ToListAsync();
foreach (var product in products)
{
    var variants = await _context.ProductVariants
        .Where(v => v.ProductMasterId == product.Id)
        .ToListAsync(); // N queries!
}

// âœ… GOOD: Eager Loading
var products = await _context.ProductMasters
    .Include(p => p.ProductVariants)
    .ToListAsync(); // 1 query!

// âœ… BETTER: Explicit Loading with filtering
var products = await _context.ProductMasters
    .Include(p => p.ProductVariants.Where(v => v.IsActive))
    .Include(p => p.VariantOptions)
        .ThenInclude(vo => vo.Values)
    .ToListAsync();
```

#### 2. **Bundle Stock Calculation Query Optimization**
```sql
-- Optimized query à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¸³à¸™à¸§à¸“ Bundle Stock
-- à¸„à¸³à¸™à¸§à¸“à¸§à¹ˆà¸² Bundle à¸ªà¸²à¸¡à¸²à¸£à¸–à¸‚à¸²à¸¢à¹„à¸”à¹‰à¸à¸µà¹ˆà¸Šà¸¸à¸” (à¸ˆà¸³à¸à¸±à¸”à¸”à¹‰à¸§à¸¢ component à¸—à¸µà¹ˆà¸ªà¸•à¹‡à¸­à¸à¸•à¹ˆà¸³à¸ªà¸¸à¸”)
WITH BundleStockCalculation AS (
    SELECT 
        bi.BundleId,
        bi.ItemType,
        bi.ItemId,
        bi.Quantity AS RequiredQuantity,
        s.Quantity AS AvailableQuantity,
        s.WarehouseId,
        (s.Quantity / bi.Quantity) AS PossibleBundles
    FROM BundleItems bi
    INNER JOIN Stocks s ON bi.ItemType = s.ItemType AND bi.ItemId = s.ItemId
    WHERE bi.BundleId = @BundleId
        AND s.WarehouseId = @WarehouseId
)
SELECT 
    BundleId,
    WarehouseId,
    MIN(PossibleBundles) AS MaxAvailableBundles
FROM BundleStockCalculation
GROUP BY BundleId, WarehouseId;
```

#### 3. **Batch Operations Optimization**
```csharp
// âœ… GOOD: Batch Insert 250 Variants
var variants = /* 250 variants */;

// Use EF Core's AddRange for better performance
await _context.ProductVariants.AddRangeAsync(variants);

// Use BulkExtensions for even better performance (optional)
// await _context.BulkInsertAsync(variants);

await _context.SaveChangesAsync();
```

#### 4. **Read-Heavy Operations** (CQRS Pattern)
```csharp
// âœ… Optimized Read Query (à¹„à¸¡à¹ˆ Track changes)
var productDtos = await _context.ProductMasters
    .AsNoTracking() // à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡ track à¹€à¸à¸£à¸²à¸°à¹à¸„à¹ˆà¸­à¹ˆà¸²à¸™
    .Where(p => p.IsActive)
    .Select(p => new ProductDto
    {
        Id = p.Id,
        Name = p.Name,
        // Project à¹€à¸‰à¸à¸²à¸° fields à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£
    })
    .ToListAsync();
```

### ğŸ¯ à¹€à¸«à¸•à¸¸à¸œà¸¥à¹ƒà¸™à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸š

#### 1. **Polymorphic Relationships (BundleItem & Stock)**
**à¸›à¸±à¸à¸«à¸²:** Bundle à¹à¸¥à¸° Stock à¸•à¹‰à¸­à¸‡à¸£à¸­à¸‡à¸£à¸±à¸šà¸—à¸±à¹‰à¸‡ Product à¹à¸¥à¸° Variant

**à¸§à¸´à¸˜à¸µà¹à¸à¹‰:**
```
BundleItem/Stock:
- ItemType (string): "Product" or "Variant"  
- ItemId (int): ProductMaster.Id or ProductVariant.Id
```

**à¹€à¸«à¸•à¸¸à¸œà¸¥:**
- âœ… Flexible: à¹€à¸à¸´à¹ˆà¸¡ type à¹ƒà¸«à¸¡à¹ˆà¹„à¸”à¹‰à¸‡à¹ˆà¸²à¸¢
- âœ… Simple: à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸ªà¸£à¹‰à¸²à¸‡ 2 à¸•à¸²à¸£à¸²à¸‡
- âš ï¸ Trade-off: à¹„à¸¡à¹ˆà¸¡à¸µ FK integrity (à¸•à¹‰à¸­à¸‡ validate à¹ƒà¸™ application layer)

**à¸—à¸²à¸‡à¹€à¸¥à¸·à¸­à¸à¸­à¸·à¹ˆà¸™ (à¹„à¸¡à¹ˆà¹€à¸¥à¸·à¸­à¸):**
- âŒ Table Per Type: BundleProductItem + BundleVariantItem (à¸‹à¸±à¸šà¸‹à¹‰à¸­à¸™à¹€à¸à¸´à¸™)
- âŒ Two FKs: ProductId & VariantId (nullable) (à¸—à¸³à¹ƒà¸«à¹‰ data integrity à¸¢à¸²à¸)

#### 2. **Junction Table (ProductVariantAttribute)**
**à¸›à¸±à¸à¸«à¸²:** Variant à¸•à¹‰à¸­à¸‡à¹€à¸à¹‡à¸šà¸«à¸¥à¸²à¸¢ attributes (à¸ªà¸µ: à¹à¸”à¸‡, à¸‚à¸™à¸²à¸”: M)

**à¸§à¸´à¸˜à¸µà¹à¸à¹‰:** Many-to-Many à¸œà¹ˆà¸²à¸™ Junction Table

**à¹€à¸«à¸•à¸¸à¸œà¸¥:**
- âœ… Normalized: à¹„à¸¡à¹ˆà¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‹à¹‰à¸³
- âœ… Flexible: à¹€à¸à¸´à¹ˆà¸¡/à¸¥à¸” attributes à¹„à¸”à¹‰
- âœ… Query-friendly: JOIN à¹„à¸”à¹‰à¸‡à¹ˆà¸²à¸¢

#### 3. **Cascade Delete Strategy**
```
ProductMaster â†’ DELETE CASCADE â†’ VariantOption â†’ DELETE CASCADE â†’ VariantOptionValue
ProductMaster â†’ DELETE CASCADE â†’ ProductVariant
Bundle â†’ DELETE CASCADE â†’ BundleItem
```

**à¹€à¸«à¸•à¸¸à¸œà¸¥:**
- à¸¥à¸š Product Master â†’ à¸¥à¸š Variants à¹à¸¥à¸° Options à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ orphan records)
- à¸¥à¸š Bundle â†’ à¸¥à¸š BundleItems (à¸ªà¸¡à¹€à¸«à¸•à¸¸à¸ªà¸¡à¸œà¸¥)

### ğŸ“Š Performance Benchmarks (Expected)

| Operation | Without Index | With Index | Improvement |
|-----------|--------------|------------|-------------|
| Get Product by SKU | ~500ms | ~5ms | **100x** |
| Get Bundle with Items | ~800ms | ~50ms | **16x** |
| Calculate Bundle Stock | ~2000ms | ~100ms | **20x** |
| Batch Insert 250 Variants | ~8000ms | ~1500ms | **5.3x** |
| Search Products (Full-text) | ~1500ms | ~50ms | **30x** |

---

## ğŸ“ Database Schema Design (Implementation)

### Core Entities & Relationships

```csharp
// Entity Framework Core Models

// Product Master
public class ProductMaster
{
    public int Id { get; set; }
    public string Name { get; set; }
    public string Description { get; set; }
    public int? CategoryId { get; set; }
    public DateTime CreatedAt { get; set; }
    public DateTime UpdatedAt { get; set; }
    
    // Navigation Properties
    public Category Category { get; set; }
    public ICollection<VariantOption> VariantOptions { get; set; }
    public ICollection<ProductVariant> ProductVariants { get; set; }
}

// Variant Options (e.g., "Color", "Size")
public class VariantOption
{
    public int Id { get; set; }
    public int ProductMasterId { get; set; }
    public string Name { get; set; } // e.g., "Color"
    public int DisplayOrder { get; set; }
    
    public ProductMaster ProductMaster { get; set; }
    public ICollection<VariantOptionValue> Values { get; set; }
}

// Variant Option Values (e.g., "Red", "Blue")
public class VariantOptionValue
{
    public int Id { get; set; }
    public int VariantOptionId { get; set; }
    public string Value { get; set; } // e.g., "Red"
    public int DisplayOrder { get; set; }
    
    public VariantOption VariantOption { get; set; }
    public ICollection<ProductVariantAttribute> ProductVariantAttributes { get; set; }
}

// Product Variants (Combinations)
public class ProductVariant
{
    public int Id { get; set; }
    public int ProductMasterId { get; set; }
    public string SKU { get; set; } // UNIQUE
    public decimal Price { get; set; }
    public decimal Cost { get; set; }
    public bool IsActive { get; set; }
    public DateTime CreatedAt { get; set; }
    
    public ProductMaster ProductMaster { get; set; }
    public ICollection<ProductVariantAttribute> Attributes { get; set; }
    public ICollection<Stock> Stocks { get; set; }
}

// Junction Table: Variant + Option Values
public class ProductVariantAttribute
{
    public int Id { get; set; }
    public int ProductVariantId { get; set; }
    public int VariantOptionValueId { get; set; }
    
    public ProductVariant ProductVariant { get; set; }
    public VariantOptionValue VariantOptionValue { get; set; }
}

// Bundle
public class Bundle
{
    public int Id { get; set; }
    public string Name { get; set; }
    public string Description { get; set; }
    public decimal Price { get; set; }
    public bool IsActive { get; set; }
    public DateTime CreatedAt { get; set; }
    
    public ICollection<BundleItem> BundleItems { get; set; }
}

// Bundle Items (Polymorphic: Product OR Variant)
public class BundleItem
{
    public int Id { get; set; }
    public int BundleId { get; set; }
    public string ItemType { get; set; } // "Product" or "Variant"
    public int ItemId { get; set; } // ProductMaster.Id or ProductVariant.Id
    public int Quantity { get; set; }
    
    public Bundle Bundle { get; set; }
}

// Warehouse
public class Warehouse
{
    public int Id { get; set; }
    public string Name { get; set; }
    public string Location { get; set; }
    
    public ICollection<Stock> Stocks { get; set; }
}

// Stock Management (Polymorphic)
public class Stock
{
    public int Id { get; set; }
    public int WarehouseId { get; set; }
    public string ItemType { get; set; } // "Product" or "Variant"
    public int ItemId { get; set; }
    public int Quantity { get; set; }
    public DateTime LastUpdated { get; set; }
    
    public Warehouse Warehouse { get; set; }
}
```

### Database Schema (SQL Server)

```sql
-- Tables with relationships

CREATE TABLE ProductMasters (
    Id INT PRIMARY KEY IDENTITY(1,1),
    Name NVARCHAR(255) NOT NULL,
    Description NVARCHAR(MAX),
    CategoryId INT,
    CreatedAt DATETIME2 DEFAULT GETDATE(),
    UpdatedAt DATETIME2 DEFAULT GETDATE()
);

CREATE TABLE VariantOptions (
    Id INT PRIMARY KEY IDENTITY(1,1),
    ProductMasterId INT NOT NULL,
    Name NVARCHAR(100) NOT NULL,
    DisplayOrder INT DEFAULT 0,
    FOREIGN KEY (ProductMasterId) REFERENCES ProductMasters(Id) ON DELETE CASCADE
);

CREATE TABLE VariantOptionValues (
    Id INT PRIMARY KEY IDENTITY(1,1),
    VariantOptionId INT NOT NULL,
    Value NVARCHAR(100) NOT NULL,
    DisplayOrder INT DEFAULT 0,
    FOREIGN KEY (VariantOptionId) REFERENCES VariantOptions(Id) ON DELETE CASCADE
);

CREATE TABLE ProductVariants (
    Id INT PRIMARY KEY IDENTITY(1,1),
    ProductMasterId INT NOT NULL,
    SKU NVARCHAR(100) NOT NULL UNIQUE,
    Price DECIMAL(18,2) NOT NULL,
    Cost DECIMAL(18,2) NOT NULL,
    IsActive BIT DEFAULT 1,
    CreatedAt DATETIME2 DEFAULT GETDATE(),
    FOREIGN KEY (ProductMasterId) REFERENCES ProductMasters(Id) ON DELETE CASCADE
);

CREATE TABLE ProductVariantAttributes (
    Id INT PRIMARY KEY IDENTITY(1,1),
    ProductVariantId INT NOT NULL,
    VariantOptionValueId INT NOT NULL,
    FOREIGN KEY (ProductVariantId) REFERENCES ProductVariants(Id) ON DELETE CASCADE,
    FOREIGN KEY (VariantOptionValueId) REFERENCES VariantOptionValues(Id),
    UNIQUE(ProductVariantId, VariantOptionValueId)
);

CREATE TABLE Bundles (
    Id INT PRIMARY KEY IDENTITY(1,1),
    Name NVARCHAR(255) NOT NULL,
    Description NVARCHAR(MAX),
    Price DECIMAL(18,2) NOT NULL,
    IsActive BIT DEFAULT 1,
    CreatedAt DATETIME2 DEFAULT GETDATE()
);

CREATE TABLE BundleItems (
    Id INT PRIMARY KEY IDENTITY(1,1),
    BundleId INT NOT NULL,
    ItemType NVARCHAR(50) NOT NULL CHECK (ItemType IN ('Product', 'Variant')),
    ItemId INT NOT NULL,
    Quantity INT NOT NULL CHECK (Quantity > 0),
    FOREIGN KEY (BundleId) REFERENCES Bundles(Id) ON DELETE CASCADE,
    UNIQUE(BundleId, ItemType, ItemId)
);

CREATE TABLE Warehouses (
    Id INT PRIMARY KEY IDENTITY(1,1),
    Name NVARCHAR(255) NOT NULL,
    Location NVARCHAR(500)
);

CREATE TABLE Stocks (
    Id INT PRIMARY KEY IDENTITY(1,1),
    WarehouseId INT NOT NULL,
    ItemType NVARCHAR(50) NOT NULL CHECK (ItemType IN ('Product', 'Variant')),
    ItemId INT NOT NULL,
    Quantity INT NOT NULL DEFAULT 0,
    LastUpdated DATETIME2 DEFAULT GETDATE(),
    FOREIGN KEY (WarehouseId) REFERENCES Warehouses(Id) ON DELETE CASCADE,
    UNIQUE(WarehouseId, ItemType, ItemId)
);

-- Indexes for Performance
CREATE INDEX IX_ProductVariants_ProductMasterId ON ProductVariants(ProductMasterId);
CREATE INDEX IX_ProductVariants_SKU ON ProductVariants(SKU);
CREATE INDEX IX_BundleItems_Bundle ON BundleItems(BundleId, ItemType, ItemId);
CREATE INDEX IX_Stocks_Warehouse ON Stocks(WarehouseId, ItemType, ItemId);
CREATE INDEX IX_Stocks_Item ON Stocks(ItemType, ItemId);
```

---

## ğŸ”Œ API Endpoints Design (.NET Core)

### Project Structure (Clean Architecture)

```
FlowAccount.API/
â”œâ”€â”€ Controllers/
â”‚   â”œâ”€â”€ ProductsController.cs
â”‚   â”œâ”€â”€ VariantsController.cs
â”‚   â”œâ”€â”€ BundlesController.cs
â”‚   â””â”€â”€ StocksController.cs
â”œâ”€â”€ DTOs/
â”‚   â”œâ”€â”€ ProductDtos.cs
â”‚   â”œâ”€â”€ VariantDtos.cs
â”‚   â””â”€â”€ BundleDtos.cs
â””â”€â”€ Program.cs

FlowAccount.Application/
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ IProductService.cs
â”‚   â”œâ”€â”€ ProductService.cs
â”‚   â”œâ”€â”€ IBundleService.cs
â”‚   â””â”€â”€ BundleService.cs
â””â”€â”€ Validators/

FlowAccount.Domain/
â”œâ”€â”€ Entities/
â””â”€â”€ Interfaces/

FlowAccount.Infrastructure/
â”œâ”€â”€ Data/
â”‚   â”œâ”€â”€ ApplicationDbContext.cs
â”‚   â””â”€â”€ Repositories/
â””â”€â”€ Migrations/
```

### API Controllers

#### ProductsController.cs

```csharp
[ApiController]
[Route("api/[controller]")]
public class ProductsController : ControllerBase
{
    private readonly IProductService _productService;

    [HttpGet]
    [ProducesResponseType(typeof(PagedResult<ProductDto>), 200)]
    public async Task<IActionResult> GetProducts([FromQuery] ProductQueryParams query)
    {
        var products = await _productService.GetProductsAsync(query);
        return Ok(products);
    }

    [HttpGet("{id}")]
    [ProducesResponseType(typeof(ProductDetailDto), 200)]
    [ProducesResponseType(404)]
    public async Task<IActionResult> GetProduct(int id)
    {
        var product = await _productService.GetProductByIdAsync(id);
        if (product == null) return NotFound();
        return Ok(product);
    }

    [HttpPost]
    [ProducesResponseType(typeof(ProductDto), 201)]
    [ProducesResponseType(400)]
    public async Task<IActionResult> CreateProduct([FromBody] CreateProductDto dto)
    {
        var product = await _productService.CreateProductAsync(dto);
        return CreatedAtAction(nameof(GetProduct), new { id = product.Id }, product);
    }

    [HttpPut("{id}")]
    [ProducesResponseType(204)]
    [ProducesResponseType(400)]
    [ProducesResponseType(404)]
    public async Task<IActionResult> UpdateProduct(int id, [FromBody] UpdateProductDto dto)
    {
        await _productService.UpdateProductAsync(id, dto);
        return NoContent();
    }

    [HttpDelete("{id}")]
    [ProducesResponseType(204)]
    [ProducesResponseType(404)]
    public async Task<IActionResult> DeleteProduct(int id)
    {
        await _productService.DeleteProductAsync(id);
        return NoContent();
    }

    // Variant Operations
    [HttpGet("{id}/variants")]
    [ProducesResponseType(typeof(List<VariantDto>), 200)]
    public async Task<IActionResult> GetProductVariants(int id)
    {
        var variants = await _productService.GetProductVariantsAsync(id);
        return Ok(variants);
    }

    [HttpPost("{id}/variants")]
    [ProducesResponseType(typeof(VariantDto), 201)]
    public async Task<IActionResult> CreateVariant(int id, [FromBody] CreateVariantDto dto)
    {
        var variant = await _productService.CreateVariantAsync(id, dto);
        return CreatedAtAction("GetVariant", "Variants", new { id = variant.Id }, variant);
    }

    [HttpPost("{id}/variants/batch")]
    [ProducesResponseType(typeof(BatchVariantResultDto), 200)]
    [ProducesResponseType(400)]
    public async Task<IActionResult> CreateVariantsBatch(
        int id, 
        [FromBody] CreateVariantsBatchDto dto)
    {
        var result = await _productService.CreateVariantsBatchAsync(id, dto);
        return Ok(result);
    }

    [HttpGet("{id}/variant-options")]
    [ProducesResponseType(typeof(List<VariantOptionDto>), 200)]
    public async Task<IActionResult> GetVariantOptions(int id)
    {
        var options = await _productService.GetVariantOptionsAsync(id);
        return Ok(options);
    }

    [HttpPost("{id}/variant-options")]
    [ProducesResponseType(typeof(VariantOptionDto), 201)]
    public async Task<IActionResult> CreateVariantOption(
        int id, 
        [FromBody] CreateVariantOptionDto dto)
    {
        var option = await _productService.CreateVariantOptionAsync(id, dto);
        return Created($"api/products/{id}/variant-options/{option.Id}", option);
    }
}
```

#### BundlesController.cs

```csharp
[ApiController]
[Route("api/[controller]")]
public class BundlesController : ControllerBase
{
    private readonly IBundleService _bundleService;

    [HttpGet]
    [ProducesResponseType(typeof(List<BundleDto>), 200)]
    public async Task<IActionResult> GetBundles()
    {
        var bundles = await _bundleService.GetBundlesAsync();
        return Ok(bundles);
    }

    [HttpGet("{id}")]
    [ProducesResponseType(typeof(BundleDetailDto), 200)]
    [ProducesResponseType(404)]
    public async Task<IActionResult> GetBundle(int id)
    {
        var bundle = await _bundleService.GetBundleByIdAsync(id);
        if (bundle == null) return NotFound();
        return Ok(bundle);
    }

    [HttpPost]
    [ProducesResponseType(typeof(BundleDto), 201)]
    [ProducesResponseType(400)]
    public async Task<IActionResult> CreateBundle([FromBody] CreateBundleDto dto)
    {
        var bundle = await _bundleService.CreateBundleAsync(dto);
        return CreatedAtAction(nameof(GetBundle), new { id = bundle.Id }, bundle);
    }

    [HttpPut("{id}")]
    [ProducesResponseType(204)]
    public async Task<IActionResult> UpdateBundle(int id, [FromBody] UpdateBundleDto dto)
    {
        await _bundleService.UpdateBundleAsync(id, dto);
        return NoContent();
    }

    [HttpDelete("{id}")]
    [ProducesResponseType(204)]
    public async Task<IActionResult> DeleteBundle(int id)
    {
        await _bundleService.DeleteBundleAsync(id);
        return NoContent();
    }

    [HttpPost("{id}/items")]
    [ProducesResponseType(typeof(BundleItemDto), 201)]
    public async Task<IActionResult> AddBundleItem(int id, [FromBody] AddBundleItemDto dto)
    {
        var item = await _bundleService.AddBundleItemAsync(id, dto);
        return Created($"api/bundles/{id}/items/{item.Id}", item);
    }

    [HttpDelete("{id}/items/{itemId}")]
    [ProducesResponseType(204)]
    public async Task<IActionResult> RemoveBundleItem(int id, int itemId)
    {
        await _bundleService.RemoveBundleItemAsync(id, itemId);
        return NoContent();
    }

    [HttpGet("{id}/stock")]
    [ProducesResponseType(typeof(BundleStockDto), 200)]
    public async Task<IActionResult> GetBundleStock(int id)
    {
        var stock = await _bundleService.GetBundleAvailableStockAsync(id);
        return Ok(stock);
    }
}
```

---

## ğŸ“‹ Sample JSON Payloads (.NET DTOs)

### DTOs Definition

```csharp
// Create Product with Variant Options
public class CreateProductDto
{
    public string Name { get; set; }
    public string Description { get; set; }
    public int? CategoryId { get; set; }
    public List<CreateVariantOptionDto> VariantOptions { get; set; }
}

public class CreateVariantOptionDto
{
    public string Name { get; set; } // e.g., "Color", "Size"
    public List<string> Values { get; set; } // e.g., ["Red", "Blue", "Green"]
}

// Batch Create Variants
public class CreateVariantsBatchDto
{
    public List<CreateVariantDto> Variants { get; set; }
}

public class CreateVariantDto
{
    public string SKU { get; set; }
    public Dictionary<string, string> Attributes { get; set; } // {"Color": "Red", "Size": "M"}
    public decimal Price { get; set; }
    public decimal Cost { get; set; }
}

// Create Bundle
public class CreateBundleDto
{
    public string Name { get; set; }
    public string Description { get; set; }
    public decimal Price { get; set; }
    public List<BundleItemDto> Items { get; set; }
}

public class BundleItemDto
{
    public string Type { get; set; } // "Product" or "Variant"
    public int Id { get; set; }
    public int Quantity { get; set; }
}
```

### Example Requests & Responses

#### 1. Create Product with Variant Options

**POST** `/api/products`

```json
{
  "name": "à¹€à¸ªà¸·à¹‰à¸­à¸¢à¸·à¸”",
  "description": "à¹€à¸ªà¸·à¹‰à¸­à¸¢à¸·à¸”à¸„à¸­à¸à¸¥à¸¡ à¸œà¹‰à¸²à¸„à¸¸à¸“à¸ à¸²à¸à¸”à¸µ",
  "categoryId": 1,
  "variantOptions": [
    {
      "name": "à¸ªà¸µ",
      "values": ["à¹à¸”à¸‡", "à¸™à¹‰à¸³à¹€à¸‡à¸´à¸™", "à¹€à¸‚à¸µà¸¢à¸§"]
    },
    {
      "name": "à¸‚à¸™à¸²à¸”",
      "values": ["S", "M", "L", "XL"]
    }
  ]
}
```

**Response (201 Created)**
```json
{
  "id": 1,
  "name": "à¹€à¸ªà¸·à¹‰à¸­à¸¢à¸·à¸”",
  "description": "à¹€à¸ªà¸·à¹‰à¸­à¸¢à¸·à¸”à¸„à¸­à¸à¸¥à¸¡ à¸œà¹‰à¸²à¸„à¸¸à¸“à¸ à¸²à¸à¸”à¸µ",
  "categoryId": 1,
  "variantOptions": [
    {
      "id": 1,
      "name": "à¸ªà¸µ",
      "values": [
        { "id": 1, "value": "à¹à¸”à¸‡" },
        { "id": 2, "value": "à¸™à¹‰à¸³à¹€à¸‡à¸´à¸™" },
        { "id": 3, "value": "à¹€à¸‚à¸µà¸¢à¸§" }
      ]
    },
    {
      "id": 2,
      "name": "à¸‚à¸™à¸²à¸”",
      "values": [
        { "id": 4, "value": "S" },
        { "id": 5, "value": "M" },
        { "id": 6, "value": "L" },
        { "id": 7, "value": "XL" }
      ]
    }
  ],
  "createdAt": "2025-10-16T10:30:00Z"
}
```

#### 2. Batch Create Variants (250 variants)

**POST** `/api/products/1/variants/batch`

```json
{
  "variants": [
    {
      "sku": "SHIRT-RED-S",
      "attributes": {
        "à¸ªà¸µ": "à¹à¸”à¸‡",
        "à¸‚à¸™à¸²à¸”": "S"
      },
      "price": 299.00,
      "cost": 150.00
    },
    {
      "sku": "SHIRT-RED-M",
      "attributes": {
        "à¸ªà¸µ": "à¹à¸”à¸‡",
        "à¸‚à¸™à¸²à¸”": "M"
      },
      "price": 299.00,
      "cost": 150.00
    },
    {
      "sku": "SHIRT-BLUE-S",
      "attributes": {
        "à¸ªà¸µ": "à¸™à¹‰à¸³à¹€à¸‡à¸´à¸™",
        "à¸‚à¸™à¸²à¸”": "S"
      },
      "price": 299.00,
      "cost": 150.00
    }
    // ... up to 250 variants
  ]
}
```

**Response (200 OK)**
```json
{
  "success": true,
  "totalProcessed": 250,
  "succeeded": 248,
  "failed": 2,
  "errors": [
    {
      "sku": "SHIRT-RED-S",
      "error": "SKU already exists"
    },
    {
      "sku": "SHIRT-INVALID",
      "error": "Invalid attribute combination"
    }
  ],
  "createdVariants": [
    {
      "id": 101,
      "sku": "SHIRT-RED-M",
      "price": 299.00
    }
    // ... more created variants
  ],
  "processingTimeMs": 1250
}
```

#### 3. Create Bundle

**POST** `/api/bundles`

```json
{
  "name": "à¸Šà¸¸à¸”à¸„à¸­à¸¡à¸à¸´à¸§à¹€à¸•à¸­à¸£à¹Œ",
  "description": "à¸Šà¸¸à¸”à¸„à¸­à¸¡à¸à¸´à¸§à¹€à¸•à¸­à¸£à¹Œà¸ªà¸³à¸«à¸£à¸±à¸šà¹€à¸¥à¹ˆà¸™à¹€à¸à¸¡",
  "price": 25000.00,
  "items": [
    {
      "type": "Product",
      "id": 10,
      "quantity": 1
    },
    {
      "type": "Variant",
      "id": 205,
      "quantity": 2
    },
    {
      "type": "Product",
      "id": 15,
      "quantity": 1
    }
  ]
}
```

**Response (201 Created)**
```json
{
  "id": 1,
  "name": "à¸Šà¸¸à¸”à¸„à¸­à¸¡à¸à¸´à¸§à¹€à¸•à¸­à¸£à¹Œ",
  "description": "à¸Šà¸¸à¸”à¸„à¸­à¸¡à¸à¸´à¸§à¹€à¸•à¸­à¸£à¹Œà¸ªà¸³à¸«à¸£à¸±à¸šà¹€à¸¥à¹ˆà¸™à¹€à¸à¸¡",
  "price": 25000.00,
  "items": [
    {
      "id": 1,
      "type": "Product",
      "itemId": 10,
      "itemName": "CPU Intel i7",
      "quantity": 1
    },
    {
      "id": 2,
      "type": "Variant",
      "itemId": 205,
      "itemName": "RAM DDR4 16GB (à¸ªà¸µà¸”à¸³)",
      "sku": "RAM-DDR4-16GB-BLACK",
      "quantity": 2
    },
    {
      "id": 3,
      "type": "Product",
      "itemId": 15,
      "itemName": "SSD 1TB",
      "quantity": 1
    }
  ],
  "createdAt": "2025-10-16T11:00:00Z"
}
```

#### 4. Get Bundle Stock Availability

**GET** `/api/bundles/1/stock`

**Response (200 OK)**
```json
{
  "bundleId": 1,
  "bundleName": "à¸Šà¸¸à¸”à¸„à¸­à¸¡à¸à¸´à¸§à¹€à¸•à¸­à¸£à¹Œ",
  "availableQuantity": 5,
  "stockByWarehouse": [
    {
      "warehouseId": 1,
      "warehouseName": "à¸„à¸¥à¸±à¸‡à¸à¸£à¸¸à¸‡à¹€à¸—à¸",
      "availableQuantity": 5,
      "limitingItem": {
        "type": "Variant",
        "itemId": 205,
        "itemName": "RAM DDR4 16GB (à¸ªà¸µà¸”à¸³)",
        "stockQuantity": 10,
        "requiredQuantity": 2,
        "maxBundles": 5
      },
      "itemsStock": [
        {
          "type": "Product",
          "itemId": 10,
          "itemName": "CPU Intel i7",
          "stockQuantity": 15,
          "requiredQuantity": 1
        },
        {
          "type": "Variant",
          "itemId": 205,
          "itemName": "RAM DDR4 16GB (à¸ªà¸µà¸”à¸³)",
          "stockQuantity": 10,
          "requiredQuantity": 2
        },
        {
          "type": "Product",
          "itemId": 15,
          "itemName": "SSD 1TB",
          "stockQuantity": 20,
          "requiredQuantity": 1
        }
      ]
    },
    {
      "warehouseId": 2,
      "warehouseName": "à¸„à¸¥à¸±à¸‡à¹€à¸Šà¸µà¸¢à¸‡à¹ƒà¸«à¸¡à¹ˆ",
      "availableQuantity": 3,
      "limitingItem": {
        "type": "Product",
        "itemId": 10,
        "itemName": "CPU Intel i7",
        "stockQuantity": 3,
        "requiredQuantity": 1,
        "maxBundles": 3
      }
    }
  ],
  "calculatedAt": "2025-10-16T11:05:00Z"
}
```

---

## ğŸ¨ Angular Frontend Architecture

### Module Structure

```
src/app/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ api.service.ts
â”‚   â”‚   â””â”€â”€ auth.service.ts
â”‚   â”œâ”€â”€ guards/
â”‚   â””â”€â”€ interceptors/
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ directives/
â”‚   â””â”€â”€ pipes/
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”œâ”€â”€ product-list/
â”‚   â”‚   â”œâ”€â”€ product-form/
â”‚   â”‚   â”œâ”€â”€ variant-manager/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ products.module.ts
â”‚   â””â”€â”€ bundles/
â”‚       â”œâ”€â”€ bundle-list/
â”‚       â”œâ”€â”€ bundle-form/
â”‚       â”œâ”€â”€ bundle-builder/
â”‚       â”œâ”€â”€ services/
â”‚       â””â”€â”€ bundles.module.ts
â””â”€â”€ app.module.ts
```

### Key Components

1. **Product Master Management**
   - ProductListComponent
   - ProductFormComponent
   - VariantOptionManagerComponent

2. **Variant Management**
   - VariantListComponent
   - VariantFormComponent
   - BulkVariantCreatorComponent

3. **Bundle Management**
   - BundleListComponent
   - BundleFormComponent
   - BundleBuilderComponent (Drag & Drop)
   - StockAvailabilityComponent

---

## âœ… Success Criteria

### Task 1: Database Schema
- âœ… ER Diagram à¸—à¸µà¹ˆà¸Šà¸±à¸”à¹€à¸ˆà¸™ à¹à¸ªà¸”à¸‡à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸à¸±à¸™à¸˜à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
- âœ… à¸­à¸˜à¸´à¸šà¸²à¸¢à¹€à¸«à¸•à¸¸à¸œà¸¥à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸šà¹à¸•à¹ˆà¸¥à¸°à¸•à¸²à¸£à¸²à¸‡
- âœ… à¸à¸´à¸ˆà¸²à¸£à¸“à¸² Indexing à¹à¸¥à¸° Performance
- âœ… à¸£à¸­à¸‡à¸£à¸±à¸š scalability

### Task 2: API Design
- âœ… RESTful API endpoints à¸„à¸£à¸šà¸–à¹‰à¸§à¸™
- âœ… JSON payload examples à¸—à¸µà¹ˆà¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ
- âœ… à¸­à¸˜à¸´à¸šà¸²à¸¢ Batch Operations strategy
- âœ… à¸­à¸˜à¸´à¸šà¸²à¸¢ Transaction Management
- âœ… à¸­à¸˜à¸´à¸šà¸²à¸¢ Stock Calculation Logic

### Task 3: Angular Frontend
- âœ… UI/UX à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸‡à¹ˆà¸²à¸¢
- âœ… Dynamic Form à¸ªà¸³à¸«à¸£à¸±à¸š Variants
- âœ… Bundle Builder à¸—à¸µà¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸à¸´à¹ˆà¸¡/à¸¥à¸š items à¹„à¸”à¹‰
- âœ… à¹à¸ªà¸”à¸‡ Real-time Stock Availability
- âœ… Responsive Design

---

## ğŸ“š Next Steps

### à¸•à¸­à¸™à¸™à¸µà¹‰à¸—à¸³à¸­à¸°à¹„à¸£à¸•à¹ˆà¸­?

1. **à¹€à¸£à¸´à¹ˆà¸¡à¸­à¸­à¸à¹à¸šà¸š Database Schema** (Task 1)
   - à¸ªà¸£à¹‰à¸²à¸‡ ER Diagram
   - à¹€à¸‚à¸µà¸¢à¸™ SQL Schema
   - à¸­à¸˜à¸´à¸šà¸²à¸¢à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸š

2. **à¸­à¸­à¸à¹à¸šà¸š API** (Task 2)
   - à¸ˆà¸±à¸”à¸—à¸³ API Specification
   - à¹€à¸‚à¸µà¸¢à¸™ Sample Payloads
   - à¸­à¸˜à¸´à¸šà¸²à¸¢ Business Logic

3. **Setup à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¹à¸¥à¸°à¹€à¸£à¸´à¹ˆà¸¡à¸à¸±à¸’à¸™à¸²**
   - à¹€à¸¥à¸·à¸­à¸ Tech Stack
   - à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ
   - à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸‚à¸µà¸¢à¸™à¹‚à¸„à¹‰à¸”

**à¸„à¸¸à¸“à¸à¸£à¹‰à¸­à¸¡à¸—à¸µà¹ˆà¸ˆà¸°à¹€à¸£à¸´à¹ˆà¸¡à¸•à¸£à¸‡à¹„à¸«à¸™à¸„à¸£à¸±à¸š? ğŸš€**

- Option A: à¸­à¸­à¸à¹à¸šà¸š Database Schema (Task 1)
- Option B: à¸­à¸­à¸à¹à¸šà¸š API (Task 2)  
- Option C: Setup à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¹à¸¥à¸°à¹€à¸£à¸´à¹ˆà¸¡à¸à¸±à¸’à¸™à¸²à¹€à¸¥à¸¢
- Option D: à¸­à¸·à¹ˆà¸™à¹† (à¸šà¸­à¸à¸¡à¸²à¹„à¸”à¹‰à¹€à¸¥à¸¢)
